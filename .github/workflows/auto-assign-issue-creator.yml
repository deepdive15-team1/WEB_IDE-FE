name: Auto Assign Issue Creator

on:
  issues:
    types: [opened]

jobs:
  assign-creator:
    runs-on: ubuntu-latest
    steps:
      - name: Assign issue creator
        uses: actions/github-script@v7
        with:
          script: |
            const issue = context.payload.issue;
            const creator = issue.user.login;
            
            // 프론트엔드 팀 멤버 목록
            const frontendTeam = [
              'san-sae',
              'MINO-01' 
            ];
            
            // 이슈 생성자가 프론트엔드 팀 멤버인 경우에만 할당
            if (frontendTeam.includes(creator)) {
              try {
                await github.rest.issues.addAssignees({
                  owner: context.repo.owner,
                  repo: context.repo.repo,
                  issue_number: issue.number,
                  assignees: [creator]
                });
                console.log(`Assigned issue #${issue.number} to ${creator}`);
              } catch (error) {
                console.log(`Failed to assign issue: ${error.message}`);
              }
            } else {
              console.log(`Creator ${creator} is not in the frontend team, skipping assignment`);
            }

